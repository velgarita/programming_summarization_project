# TextSummarizer

(Описание прекрасное. Если у меня появлялись вопросы по логике работы или метрикам, я находила ответы здесь - это отличный показатель. Вы молодец!)

Инструмент для экстрактивной саммаризации текстов на русском языке с анализом статистики.

## Особенности

- **Два алгоритма саммаризации**: frequency-based (TF-ISF) и feature-based (лингвистические признаки)
- **Статистический анализ**: сравнение оригинального текста и саммари
- **Метрики читабельности**: индекс Флеша, лексическое разнообразие, длина предложений
- **Визуализация**: графики сравнения, оценки предложений, метрики читабельности
- **Гибкая настройка**: выбор метода, коэффициента сжатия, выходных форматов

## Быстрый старт

### Установка

(Раз у вас есть `pyproject.toml`, то установку зависимостей нужно делать командой `pip install .` 
Правда, чтобы все работало, нужно дописать `pyproject.toml` - добавить `project.version`.)

```bash
git clone https://github.com/ваш-username/textsummarizer.git
cd textsummarizer
pip install -r requirements.txt
```

### Быстрый тест

(Запуск тестов не нужен для "быстрого старта". Тесты запускает разработчик. А `README` вы пишете для юзера.)

(`cli.py` следовало положить в корень `src`. Тогда запуск выглядел бы так: `python -m src.cli ...`)
```bash
# Запуск тестов
python -m pytest tests/ -v

# Запуск CLI справки
python -m src.textsummarizer.cli --help
```

## Использование

### Базовая саммаризация

(В проекте представлен другой файл по другому пути - `data/input/test.txt`)
```bash
# Саммаризация файла с методом по умолчанию (feature-based)
python -m src.textsummarizer.cli summarize --input data/text.txt --ratio 0.3

# С частотным методом
python -m src.textsummarizer.cli summarize --input text.txt --method frequency --ratio 0.4

# С сохранением статистики и визуализацией
python -m src.textsummarizer.cli summarize --input text.txt --stats --visualize --output-dir results/
```

### Анализ текста без саммаризации
```bash
# Анализ текста из файла
python -m src.textsummarizer.cli analyze --file text.txt

# Анализ текста из командной строки
python -m src.textsummarizer.cli analyze --text "Ваш текст здесь"
```

### Параметры командной строки
```text
Опции для команды summarize:
  -i, --input TEXT       Входной текстовый файл (обязательно)
  -o, --output TEXT      Выходной файл с саммари
  -m, --method [frequency|feature]
                         Метод саммаризации
  -r, --ratio FLOAT      Коэффициент сжатия (0.0-1.0)
  -s, --stats            Сохранять статистику в JSON
  -v, --visualize        Создавать визуализации
  -d, --output-dir TEXT  Директория для выходных файлов
```

## Пример работы

### Входной файл (article.txt):
```text
Искусственный интеллект (ИИ) представляет собой одну из наиболее быстро развивающихся областей современных технологий. Основная задача ИИ заключается в создании систем, способных выполнять задачи, требующие человеческого интеллекта.

Машинное обучение, являясь подразделом искусственного интеллекта, позволяет компьютерам обучаться на основе данных без явного программирования. Алгоритмы машинного обучения анализируют большие объемы информации, выявляя закономерности и принимая решения.

Глубокое обучение - это современный подход в машинном обучении, основанный на использовании нейронных сетей с множеством слоев. Данная технология показала выдающиеся результаты в задачах распознавания изображений, обработки естественного языка и других сложных областях.
```

### Команда:
```bash
python -m src.textsummarizer.cli summarize \
  --input article.txt \
  --method feature \
  --ratio 0.3 \
  --stats \
  --visualize \
  --output-dir results/
```

### Вывод в консоль:
```text
==================================================
Саммаризация завершена успешно!
Оригинальный текст: 3 предложений, 85 слов
Саммари: 1 предложений, 25 слов
Коэффициент сжатия: 70.6%
Индекс Флеша (оригинал): 45.2
Индекс Флеша (саммари): 52.1
==================================================
```

### Выходные файлы:
```text
results/
├── article_summary.txt          # Текстовое саммари
├── article_stats.json          # Статистика в JSON
└── visualizations/
    ├── sentence_scores.png     # График оценок предложений
    ├── summary_comparison.png  # Сравнение оригинал/саммари
    └── readability_metrics.png # Метрики читабельности
```

## Алгоритмы саммаризации

### Feature-based метод
Использует лингвистические признаки для оценки важности предложений:

| Признак | Описание | Вес |
|---------|----------|-----|
| Позиция предложения | Первые/последние предложения важнее | 25% |
| Длина предложения | Оптимальная длина 15-25 слов | 15% |
| Наличие цифр | Предложения с цифрами часто важны | 10% |
| Собственные имена | Упоминание имен, названий компаний | 10% |
| Лексическое разнообразие | Разнообразие словарного состава | 15% |
| Ключевые слова | Наличие важных терминов | 15% |
| Удобочитаемость | Индекс Флеша предложения | 10% |

### Frequency-based метод (TF-ISF)
Основан на статистической значимости слов:

```TF (Term Frequency)``` - частота слова в предложении

```ISF (Inverse Sentence Frequency)``` - обратная частота предложений, содержащих слово

```TF-ISF = TF × ISF``` - объединенная метрика значимости

* Фильтрация стоп-слов для повышения точности

## Структура проекта
```text
textsummarizer/
├── src/textsummarizer/          # Исходный код
│   ├── __init__.py
│   ├── __main__.py              # Точка входа как модуль
│   ├── cli.py                   # Командный интерфейс
│   ├── core.py                  # Основной класс TextSummarizer
│   ├── entities.py              # Data-классы (Sentence, TextStats и др.)
│   ├── statistics.py            # Расчет статистики
│   ├── methods/                 # Алгоритмы саммаризации
│   │   ├── __init__.py
│   │   ├── base.py              # Базовый класс BaseSummarizer
│   │   ├── frequency_based.py   # Частотный метод
│   │   └── feature_based.py     # Feature-based метод
│   └── utils/                   # Вспомогательные модули
│       ├── __init__.py
│       ├── file_io.py           # Работа с файлами
│       ├── text_processing.py   # Обработка текста
│       └── visualization.py     # Визуализация результатов
├── tests/                       # Тесты
│   ├── __init__.py
│   ├── conftest.py              # Фикстуры для тестов
│   ├── test_core.py             # Тесты основного класса
│   ├── test_features.py         # Тесты методов саммаризации
│   ├── test_integration.py      # Интеграционные тесты
│   └── test_statistics.py       # Тесты статистики
├── data/                        # Примеры данных
│   └── sample_article.txt       # Пример текста для тестирования
├── requirements.txt             # Зависимости Python
├── pyproject.toml               # Конфигурация инструментов разработки
└── README.md                    # Документация
```

## Тестирование
```bash
# Запуск всех тестов
python -m pytest tests/ -v

# Запуск с покрытием кода
python -m pytest tests/ --cov=src/textsummarizer --cov-report=html

# Запуск отдельных тестов
python -m pytest tests/test_core.py -v
python -m pytest tests/test_features.py -v
```

## Разработка

### Установка для разработки
```bash
# Установка зависимостей для разработки
pip install -r requirements-dev.txt
```

### Инструменты разработки
* Форматирование: black src tests
* Линтинг: flake8 src tests
* Проверка типов: mypy src
* Тестирование: pytest tests/

### Добавление нового метода саммаризации
1. Создать новый класс в src/textsummarizer/methods/, унаследованный от BaseSummarizer
2. Реализовать метод summarize()
3. Добавить метод в SummaryMethod enum в entities.py
4. Обновить TextSummarizer.__init__() для поддержки нового метода
5. Написать тесты в tests/test_features.py


## Метрики и статистика
Проект вычисляет следующие метрики:

### Основная статистика
* Количество предложений (оригинал/саммари)
* Количество слов (оригинал/саммари)
* Коэффициент сжатия
* Время чтения (оригинал)

### Метрики читабельности
* Индекс Флеша: оценка удобочитаемости (0-100)
* Средняя длина предложения: слов на предложение
* Средняя длина слова: символов на слово
* Лексическое разнообразие: отношение уникальных слов к общему количеству

## Отладка

### Логирование
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```
